"use strict";(self.webpackChunkgegantoys=self.webpackChunkgegantoys||[]).push([[529],{6529:(b,v,s)=>{s.r(v),s.d(v,{FavoritosModule:()=>J});var l=s(6895),r=s(7503),m=s(7454),t=s(4650),p=s(1481),u=s(9653),f=s(1572),d=s(6582),g=s(555),x=s(2328);function h(o,e){1&o&&(t.TgZ(0,"div",2),t._UZ(1,"mat-spinner",3),t.qZA())}function _(o,e){if(1&o&&t._UZ(0,"img",17),2&o){const i=t.oxw().index,n=t.oxw(3);t.Q6J("src",n.trustedUrl[i],t.LSH)}}function F(o,e){if(1&o&&(t._UZ(0,"img",18),t.ALo(1,"mostrarImagenDefecto")),2&o){const i=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,i.imagen_favorito),t.LSH)}}function w(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.eliminarDeFavoritos(a.id))}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22),t.qZA(),t.kcU(),t.TgZ(4,"span",23),t._uU(5,"Eliminar de favoritos"),t.qZA()()()}}const Z=function(o){return["/juguetes/detalle/",o]};function y(o,e){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"a",11),t.YNc(3,_,1,1,"img",12),t.YNc(4,F,2,3,"img",13),t.qZA(),t.TgZ(5,"div",14),t._uU(6),t.qZA(),t.TgZ(7,"div",15),t._uU(8),t.ALo(9,"formatDate"),t.qZA(),t.YNc(10,w,6,0,"div",16),t.qZA()()),2&o){const i=e.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(9,Z,i.juguete_id)),t.xp6(1),t.Q6J("ngIf",i.imagen_favorito),t.xp6(1),t.Q6J("ngIf",!i.imagen_favorito),t.xp6(2),t.Oqu(i.titulo_juguete),t.xp6(2),t.hij("Desde: ",t.xi3(9,6,i.fecha_favorito,3),""),t.xp6(2),t.Q6J("ngIf",i.id)}}function T(o,e){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,y,11,11,"div",8),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.favoritos)}}function C(o,e){if(1&o&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2,"Tu lista de favoritos"),t.qZA(),t.YNc(3,T,2,1,"div",6),t.qZA()),2&o){const i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.favoritos)}}const I=[{path:"",component:(()=>{class o{constructor(i,n){this.sanitizer=i,this.store=n,this.loaded=!1,this.trustedUrl=[],this.server=r.fw+r.ir+"Juguetes"+r.ir,this.store.select("auth").subscribe({next:a=>{this.userId=a.auth.user_id}}),this.store.select("favorito").subscribe({next:a=>{this.favoritos=a.favoritos,this.trustedUrl=this.favoritos.map(c=>this.sanitizer.bypassSecurityTrustUrl(this.server+c.categoria_id+r.ir+c.juguete_id+r.ir+c.imagen_favorito)),this.loaded=!0}})}ngOnInit(){this.getListaFavoritosByUser()}getListaFavoritosByUser(){this.store.dispatch(m.Ft({idUser:this.userId}))}eliminarDeFavoritos(i){this.store.dispatch(m.fD({idFavorito:i}))}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(p.H7),t.Y36(u.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-favoritos"]],decls:2,vars:2,consts:[["class","w-screen h-screen",4,"ngIf"],["class","contenedor-pagina",4,"ngIf"],[1,"w-screen","h-screen"],[1,"mx-auto","top:32","sm:top-96"],[1,"contenedor-pagina"],[1,"titulo-pagina"],["class","flex flex-wrap justify-left",4,"ngIf"],[1,"flex","flex-wrap","justify-left"],["class","w-1/2 sm:w-1/3 2xl:w-1/4  sm:p-5 2xl:p-9 pr-2",4,"ngFor","ngForOf"],[1,"w-1/2","sm:w-1/3","2xl:w-1/4","sm:p-5","2xl:p-9","pr-2"],["mat-card-sm-image","",1,"border-solid","border","rounded","border-silver","my-3"],[1,"text-decoration-none",3,"routerLink"],["class","w-full h-32 sm:h-48 2xl:h-80 object-fit",3,"src",4,"ngIf"],["class","w-full h-32 sm:h-48 2xl:h-80 object-fit imagen-vacia",3,"src",4,"ngIf"],[1,"text-sm","sm:text-base","font-thin","text-left","px-2","py-2","sm:p-4","text-orange-electric"],[1,"text-xs","text-left","py-2","px-2","sm:p-4"],["class","py-2 px-2",4,"ngIf"],[1,"w-full","h-32","sm:h-48","2xl:h-80","object-fit",3,"src"],[1,"w-full","h-32","sm:h-48","2xl:h-80","object-fit","imagen-vacia",3,"src"],[1,"py-2","px-2"],["type","button",1,"btn","btn-danger","py-2","px-2","sm:px-4",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-star-fill","sm:w-5","sm:h-5","w-4","h-4","text-naranja-oscuro","inline","mr-1","sm:mr-3","align-middle"],["d","M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"],[1,"align-middle","text-xs","sm:text-sm","text-naranja-oscuro","hover:text-white"]],template:function(i,n){1&i&&(t.YNc(0,h,2,0,"div",0),t.YNc(1,C,4,1,"div",1)),2&i&&(t.Q6J("ngIf",!n.loaded),t.xp6(1),t.Q6J("ngIf",n.loaded))},dependencies:[l.sg,l.O5,f.Ou,d.yS,g.w,x.i]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(I),d.Bz]}),o})();var j=s(9049),A=s(510);let J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,j.x,A.p,f.Cq,U]}),o})()}}]);