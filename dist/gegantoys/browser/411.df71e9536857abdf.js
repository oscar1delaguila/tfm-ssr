"use strict";(self.webpackChunkgegantoys=self.webpackChunkgegantoys||[]).push([[411],{4411:(Me,f,s)=>{s.r(f),s.d(f,{JugueteAdminModule:()=>De});var g=s(6895),l=s(6582),a=s(4006),b=s(7503),m=s(6942),e=s(4650),h=s(9653),C=s(1481),v=s(1572),A=s(555),q=s(2328);function F(o,i){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"mat-spinner",3),e.qZA())}function I(o,i){if(1&o&&e._UZ(0,"img",27),2&o){const t=e.oxw().index,r=e.oxw(3);e.Q6J("src",r.trustedUrl[t],e.LSH)}}function N(o,i){if(1&o&&(e._UZ(0,"img",28),e.ALo(1,"mostrarImagenDefecto")),2&o){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.imagen1),e.LSH)}}function j(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.editar(n.id))}),e._uU(2,"Editar juguete"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.eliminar(n.id))}),e._uU(4,"Eliminar juguete"),e.qZA()()}}function Q(o,i){if(1&o&&e._UZ(0,"input",32),2&o){const t=e.oxw().$implicit;e.MGl("id","checkboxJugueteP",t.id,"")}}function U(o,i){if(1&o&&e._UZ(0,"input",33),2&o){const t=e.oxw().$implicit;e.MGl("id","checkboxJugueteNP",t.id,"")}}function w(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e.YNc(3,I,1,1,"img",15),e.YNc(4,N,2,3,"img",16),e.qZA(),e.TgZ(5,"div",17)(6,"div",18),e._uU(7),e.qZA(),e.TgZ(8,"div",19),e._uU(9),e.qZA(),e.TgZ(10,"div",20),e._uU(11),e.ALo(12,"formatDate"),e.qZA()()(),e.TgZ(13,"div",21),e.YNc(14,j,5,0,"div",22),e.TgZ(15,"div",23),e.NdJ("click",function(){const u=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.publicarJuguete(u.id,u.publicado))}),e.YNc(16,Q,1,1,"input",24),e.YNc(17,U,1,1,"input",25),e.TgZ(18,"label",26),e._uU(19,"Publicado"),e.qZA()()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.Q6J("ngIf",t.imagen1),e.xp6(1),e.Q6J("ngIf",!t.imagen1),e.xp6(3),e.Oqu(t.titulo),e.xp6(2),e.lnq("",t.marca," - ",t.material," - ",t.edad,"+"),e.xp6(2),e.hij("Publicado: ",e.xi3(12,10,t.fecha_publicacion,3),""),e.xp6(3),e.Q6J("ngIf",t.id),e.xp6(2),e.Q6J("ngIf",t.publicado),e.xp6(1),e.Q6J("ngIf",!t.publicado)}}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,w,20,13,"div",9),e.TgZ(2,"div",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadJuguetes())}),e.TgZ(3,"a",11),e._uU(4,"Cargar m\xe1s"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.juguetes)}}function Y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5),e._uU(2,"Administraci\xf3n juguete"),e.qZA(),e.TgZ(3,"div",6)(4,"button",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.crearJuguete())}),e._uU(5,"Crear juguete"),e.qZA()(),e.YNc(6,y,5,1,"div",8),e.qZA()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.juguetes)}}let k=(()=>{class o{constructor(t,r,n){this.store=t,this.router=r,this.sanitizer=n,this.loaded=!1,this.numeroPagina=1,this.server=b.fw+"/Juguetes",this.publicado=new a.NI,this.store.select("jugueteAdmin").subscribe({next:u=>{this.numeroPagina=u.numeroPagina,u.juguetes&&(this.juguetes=u.juguetes,this.trustedUrl=this.juguetes.map(c=>this.sanitizer.bypassSecurityTrustUrl(this.server+"/"+c.path_imagen+"/"+c.id+"/"+c.imagen1)),this.loaded=!0)}})}ngOnInit(){this.store.dispatch(m.Lt()),this.loadJuguetes()}loadJuguetes(){this.store.dispatch(m.TD({numeroPagina:this.numeroPagina}))}crearJuguete(){this.router.navigateByUrl("/juguetes-listado/form/")}editar(t){this.router.navigateByUrl("/juguetes-listado/form/"+t)}eliminar(t){this.loaded=!1,this.store.dispatch(m.yp({idJuguete:t}))}publicarJuguete(t,r){let n;n=r?document.getElementById("checkboxJugueteP"+t).checked:document.getElementById("checkboxJugueteNP"+t).checked,this.store.dispatch(m.Tu({idJuguete:t,valorCheckbox:n}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.yh),e.Y36(l.F0),e.Y36(C.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-juguete-listado"]],decls:2,vars:2,consts:[["class","w-screen h-screen",4,"ngIf"],["class","contenedor-pagina-peq",4,"ngIf"],[1,"w-screen","h-screen"],[1,"mx-auto","top:32","sm:top-96"],[1,"contenedor-pagina-peq"],[1,"titulo-pagina"],[1,""],["type","button",1,"btn","btn-success","boton-crear",3,"click"],[4,"ngIf"],["class"," py-3 2xl:py-6",4,"ngFor","ngForOf"],[1,"p-4","w-fit","mx-auto",3,"click"],[1,"btn","boton-cargar-mas"],[1,"py-3","2xl:py-6"],[1,"contenedor-item"],[1,"w-1/2","sm:w-1/3","h-64","xl:h-80","border-solid","border-silver","border"],["class","imagen-contenedor-item",3,"src",4,"ngIf"],["class","imagen-contenedor-item imagen-vacia",3,"src",4,"ngIf"],[1,"w-1/2","sm:w-2/3","h-64","xl:h-80","px-2","p-3"],[1,"text-left","text-xs","sm:text-base","text-red-dark","mb-1"],[1,"text-left","text-sm","sm:text-lg","2xl:text-2xl","text-red-dark","font-sans","font-thin"],[1,"text-left","pt-2","text-xs"],[1,"mx-auto","flex","justify-between"],["class","justify-self-start",4,"ngIf"],[1,"justify-self-end","mt-2","mb-5","text-lg","mr-10",3,"click"],["type","checkbox","class","input-checkbox","checked","",3,"id",4,"ngIf"],["type","checkbox","class","input-checkbox",3,"id",4,"ngIf"],["for","revisadoPublicado",1,"align-middle","text-xs","sm:text-xl"],[1,"imagen-contenedor-item",3,"src"],[1,"imagen-contenedor-item","imagen-vacia",3,"src"],[1,"justify-self-start"],["type","button",1,"btn","btn-warning","boton-editar","mr-3",3,"click"],["type","button",1,"btn","btn-danger","boton-eliminar",3,"click"],["type","checkbox","checked","",1,"input-checkbox",3,"id"],["type","checkbox",1,"input-checkbox",3,"id"]],template:function(t,r){1&t&&(e.YNc(0,F,2,0,"div",0),e.YNc(1,Y,7,1,"div",1)),2&t&&(e.Q6J("ngIf",!r.loaded),e.xp6(1),e.Q6J("ngIf",r.loaded))},dependencies:[v.Ou,g.sg,g.O5,A.w,q.i]}),o})();var x=s(7618),L=s(9477),_=s(9549),J=s(4144),Z=s(4385),D=s(3238),M=s(7082);function S(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," T\xedtulo juguete es obligatorio "),e.qZA())}function E(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," El t\xedtulo del juguete m\xe1ximo puede ser de 255 caracteres. "),e.qZA())}function V(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,S,2,0,"div",48),e.YNc(2,E,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.tituloJuguete.errors.required),e.xp6(1),e.Q6J("ngIf",t.tituloJuguete.errors.maxlength)}}function H(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Precio juguete es obligatorio. "),e.qZA())}function G(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," El precio del juguete no puede ser negativo. "),e.qZA())}function P(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,H,2,0,"div",48),e.YNc(2,G,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.precioJuguete.errors.required),e.xp6(1),e.Q6J("ngIf",t.precioJuguete.errors.min)}}function K(o,i){if(1&o&&(e.TgZ(0,"mat-option",49),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",t.nombre," ")}}function O(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," La marca del juguete es obligatorio. "),e.qZA())}function $(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,O,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.marcas.errors.required)}}function z(o,i){if(1&o&&(e.TgZ(0,"mat-option",49),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.nombre),e.xp6(1),e.hij(" ",t.nombre," ")}}function B(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," El material del juguete es obligatorio. "),e.qZA())}function R(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,B,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.materiales.errors.required)}}function X(o,i){if(1&o&&(e.TgZ(0,"mat-option",49),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t,"+ ")}}function W(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," El material del juguete es obligatorio. "),e.qZA())}function ee(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,W,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.edad.errors.required)}}function te(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Ancho juguete es obligatorio "),e.qZA())}function oe(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Ancho m\xe1ximo de 4 d\xedgitos. "),e.qZA())}function ie(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,te,2,0,"div",48),e.YNc(2,oe,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.ancho.errors.required),e.xp6(1),e.Q6J("ngIf",t.ancho.errors.maxlength)}}function ae(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Largo juguete es obligatorio "),e.qZA())}function re(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Largo m\xe1ximo de 4 d\xedgitos. "),e.qZA())}function ne(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,ae,2,0,"div",48),e.YNc(2,re,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.largo.errors.required),e.xp6(1),e.Q6J("ngIf",t.largo.errors.maxlength)}}function ue(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Ancho juguete es obligatorio "),e.qZA())}function se(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Ancho 4 chars. "),e.qZA())}function ce(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,ue,2,0,"div",48),e.YNc(2,se,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.alto.errors.required),e.xp6(1),e.Q6J("ngIf",t.alto.errors.maxlength)}}function me(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," La descripci\xf3n es obligatoria "),e.qZA())}function ge(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," M\xe1ximo 1000 caracteres. "),e.qZA())}function le(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,me,2,0,"div",48),e.YNc(2,ge,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.descripcion.errors.required),e.xp6(1),e.Q6J("ngIf",t.descripcion.errors.maxlength)}}function de(o,i){if(1&o&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.lnq(" ",t.juguete.categoria.nombre_categoria," - ",t.juguete.categoria.subcategoria1," - ",t.juguete.categoria.subcategoria2," ")}}function pe(o,i){if(1&o&&(e.TgZ(0,"div",50),e.YNc(1,de,2,3,"div",51),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.juguete.categoria)}}function _e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",58),e.NdJ("click",function(){const u=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.obtenerSubcategorias1(u.categoria))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.Q6J("value",t.categoria),e.xp6(1),e.hij(" ",t.categoria," ")}}function fe(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Categor\xeda es obligatorio. "),e.qZA())}function he(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,fe,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(3);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.categorias.errors.required)}}function ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",58),e.NdJ("click",function(){const u=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.obtenerSubcategorias2(u.categoria))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.Q6J("value",t.categoria),e.xp6(1),e.hij(" ",t.categoria," ")}}function xe(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Subcategoria1 es obligatorio. "),e.qZA())}function Je(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,xe,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(3);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.subcategorias1.errors.required)}}function Ze(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",58),e.NdJ("click",function(){const u=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.setValorSubCat2(u.categoria))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.Q6J("value",t.categoria),e.xp6(1),e.hij(" ",t.categoria," ")}}function Te(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Subcategoria2 es obligatorio. "),e.qZA())}function be(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,Te,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(3);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.subcategorias2.errors.required)}}function Ce(o,i){if(1&o&&(e.TgZ(0,"div",53)(1,"div",54)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"Categoria:"),e.qZA(),e.TgZ(5,"mat-select",15),e.YNc(6,_e,2,2,"mat-option",55),e.qZA(),e.TgZ(7,"mat-error"),e.YNc(8,he,2,2,"div",11),e.qZA()()(),e.TgZ(9,"div",54)(10,"mat-form-field",9)(11,"mat-label"),e._uU(12,"Subcategoria 1:"),e.qZA(),e.TgZ(13,"mat-select",15),e.YNc(14,ve,2,2,"mat-option",55),e.qZA(),e.TgZ(15,"mat-error"),e.YNc(16,Je,2,2,"div",11),e.qZA()()(),e.TgZ(17,"div",56)(18,"mat-form-field",9)(19,"mat-label",57),e._uU(20,"Subcategoria 2:"),e.qZA(),e.TgZ(21,"mat-select",15),e.YNc(22,Ze,2,2,"mat-option",55),e.qZA(),e.TgZ(23,"mat-error"),e.YNc(24,be,2,2,"div",11),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("formControl",t.categorias),e.xp6(1),e.Q6J("ngForOf",t.categoriasListaRenderizable),e.xp6(2),e.Q6J("ngIf",t.categorias.errors&&t.categorias.touched),e.xp6(5),e.Q6J("formControl",t.subcategorias1),e.xp6(1),e.Q6J("ngForOf",t.subcategorias1ListaRenderizable),e.xp6(2),e.Q6J("ngIf",t.subcategorias1.errors&&t.subcategorias1.touched),e.xp6(5),e.Q6J("formControl",t.subcategorias2),e.xp6(1),e.Q6J("ngForOf",t.subcategorias2ListaRenderizable),e.xp6(2),e.Q6J("ngIf",t.subcategorias2.errors&&t.subcategorias2.touched)}}function Ae(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Puntuaci\xf3n es obligatorio. "),e.qZA())}function qe(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Puntuaci\xf3n del juguete no puede ser negativo. "),e.qZA())}function Fe(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,Ae,2,0,"div",48),e.YNc(2,qe,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.puntuacion.errors.required),e.xp6(1),e.Q6J("ngIf",t.puntuacion.errors.min)}}function Ie(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," N\xfamero de votaciones es obligatorio. "),e.qZA())}function Ne(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," N\xfamero de votaciones no puede ser negativo. "),e.qZA())}function je(o,i){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,Ie,2,0,"div",48),e.YNc(2,Ne,2,0,"div",48),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass","error"),e.xp6(1),e.Q6J("ngIf",t.num_votaciones.errors.required),e.xp6(1),e.Q6J("ngIf",t.num_votaciones.errors.min)}}function Qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveJuguete())}),e.TgZ(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),e._uU(4,"T\xedtulo juguete:"),e.qZA(),e._UZ(5,"input",10),e.TgZ(6,"mat-error"),e.YNc(7,V,3,3,"div",11),e.qZA()()(),e.TgZ(8,"div",12)(9,"mat-form-field",9)(10,"mat-label"),e._uU(11,"Precio del juguete:"),e.qZA(),e._UZ(12,"input",13),e.TgZ(13,"mat-error"),e.YNc(14,P,3,3,"div",11),e.qZA()()(),e.TgZ(15,"div",14)(16,"mat-form-field",9)(17,"mat-label"),e._uU(18,"Marca:"),e.qZA(),e.TgZ(19,"mat-select",15),e.YNc(20,K,2,2,"mat-option",16),e.qZA(),e.TgZ(21,"mat-error"),e.YNc(22,$,2,2,"div",11),e.qZA()()(),e.TgZ(23,"div",14)(24,"mat-form-field",9)(25,"mat-label"),e._uU(26,"Material:"),e.qZA(),e.TgZ(27,"mat-select",15),e.YNc(28,z,2,2,"mat-option",16),e.qZA(),e.TgZ(29,"mat-error"),e.YNc(30,R,2,2,"div",11),e.qZA()()(),e.TgZ(31,"div",14)(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Edad:"),e.qZA(),e.TgZ(35,"mat-select",15),e.YNc(36,X,2,2,"mat-option",16),e.qZA(),e.TgZ(37,"mat-error"),e.YNc(38,ee,2,2,"div",11),e.qZA()()(),e.TgZ(39,"p",17),e._uU(40,"Medidas:"),e.qZA(),e.TgZ(41,"div",18)(42,"div",19)(43,"mat-form-field",9)(44,"mat-label"),e._uU(45,"Ancho:"),e.qZA(),e._UZ(46,"input",10),e.TgZ(47,"mat-error"),e.YNc(48,ie,3,3,"div",11),e.qZA()()(),e.TgZ(49,"div",19)(50,"mat-form-field",9)(51,"mat-label"),e._uU(52,"Largo:"),e.qZA(),e._UZ(53,"input",10),e.TgZ(54,"mat-error"),e.YNc(55,ne,3,3,"div",11),e.qZA()()(),e.TgZ(56,"div",20)(57,"mat-form-field",9)(58,"mat-label"),e._uU(59,"Alto:"),e.qZA(),e._UZ(60,"input",10),e.TgZ(61,"mat-error"),e.YNc(62,ce,3,3,"div",11),e.qZA()()()(),e.TgZ(63,"div",21)(64,"mat-form-field",9)(65,"mat-label"),e._uU(66,"Descripci\xf3n:"),e.qZA(),e.TgZ(67,"textarea",22),e.NdJ("keyup",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.charCounter())}),e._uU(68,"          "),e.qZA(),e.TgZ(69,"mat-error"),e.YNc(70,le,3,3,"div",11),e.qZA()(),e.TgZ(71,"div",23),e._uU(72),e.qZA()(),e.TgZ(73,"h1",24),e._uU(74,"Categor\xeda del juguete:"),e.qZA(),e.YNc(75,pe,2,1,"div",25),e.YNc(76,Ce,25,9,"div",26),e.TgZ(77,"div",12)(78,"mat-form-field",9)(79,"mat-label"),e._uU(80,"Puntuaci\xf3n:"),e.qZA(),e._UZ(81,"input",27),e.TgZ(82,"mat-error"),e.YNc(83,Fe,3,3,"div",11),e.qZA()()(),e.TgZ(84,"div",12)(85,"mat-form-field",9)(86,"mat-label"),e._uU(87,"N\xfamero de votaciones:"),e.qZA(),e._UZ(88,"input",27),e.TgZ(89,"mat-error"),e.YNc(90,je,3,3,"div",11),e.qZA()()(),e.TgZ(91,"div",28)(92,"div",29)(93,"h1",24),e._uU(94,"PROs del juguete"),e.qZA(),e.TgZ(95,"div",30),e._UZ(96,"input",31),e.TgZ(97,"label",32),e._uU(98,"Es resistente al agua "),e.qZA()(),e.TgZ(99,"div",33),e._UZ(100,"input",31),e.TgZ(101,"label",32),e._uU(102,"Desarrolla la psicomotricidad "),e.qZA()(),e.TgZ(103,"div",33),e._UZ(104,"input",31),e.TgZ(105,"label",32),e._uU(106,"Es de calidad "),e.qZA()(),e.TgZ(107,"div",33),e._UZ(108,"input",31),e.TgZ(109,"label",32),e._uU(110,"Bonito a la vista "),e.qZA()(),e.TgZ(111,"div",33),e._UZ(112,"input",31),e.TgZ(113,"label",32),e._uU(114," Est\xe1 bien construido "),e.qZA()(),e.TgZ(115,"div",33),e._UZ(116,"input",31),e.TgZ(117,"label",32),e._uU(118,"Desarrolla la inteligencia de los ni\xf1os"),e.qZA()()(),e.TgZ(119,"div",29)(120,"h1",24),e._uU(121,"CONTRAs del juguete"),e.qZA(),e.TgZ(122,"div",30),e._UZ(123,"input",31),e.TgZ(124,"label",34),e._uU(125,"No es divertido para los ni\xf1os "),e.qZA()(),e.TgZ(126,"div",30),e._UZ(127,"input",31),e.TgZ(128,"label",35),e._uU(129,"No desarrolla la inteligencia"),e.qZA()(),e.TgZ(130,"div",30),e._UZ(131,"input",31),e.TgZ(132,"label",36),e._uU(133,"No resiste el agua"),e.qZA()(),e.TgZ(134,"div",30),e._UZ(135,"input",31),e.TgZ(136,"label",37),e._uU(137,"No son materiales de calidad"),e.qZA()(),e.TgZ(138,"div",30),e._UZ(139,"input",31),e.TgZ(140,"label",38),e._uU(141,"Tiene muchas piezas y se pueden perder"),e.qZA()(),e.TgZ(142,"div",30),e._UZ(143,"input",31),e.TgZ(144,"label",39),e._uU(145,"Es para ni\xf1os grandes"),e.qZA()()()(),e.TgZ(146,"p",40),e._uU(147,"Im\xe1genes del juguete"),e.qZA(),e.TgZ(148,"div",28)(149,"div",41)(150,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"1"))}),e.qZA()(),e.TgZ(151,"div",43)(152,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"2"))}),e.qZA()(),e.TgZ(153,"div",43)(154,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"3"))}),e.qZA()(),e.TgZ(155,"div",43)(156,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"4"))}),e.qZA()(),e.TgZ(157,"div",43)(158,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"5"))}),e.qZA()(),e.TgZ(159,"div",43)(160,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"6"))}),e.qZA()(),e.TgZ(161,"div",43)(162,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"7"))}),e.qZA()(),e.TgZ(163,"div",43)(164,"app-file-upload",42),e.NdJ("fileSelected",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.imagenCargada(n,"8"))}),e.qZA()()(),e.TgZ(165,"div",44),e._UZ(166,"input",31),e.TgZ(167,"label",45),e._uU(168,"Publicar"),e.qZA()(),e.TgZ(169,"button",46),e._uU(170," Guardar juguete "),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.jugueteForm),e.xp6(5),e.Q6J("formControl",t.tituloJuguete),e.xp6(2),e.Q6J("ngIf",t.tituloJuguete.errors&&t.tituloJuguete.touched),e.xp6(5),e.Q6J("formControl",t.precioJuguete),e.xp6(2),e.Q6J("ngIf",t.precioJuguete.errors&&t.precioJuguete.touched),e.xp6(5),e.Q6J("formControl",t.marcas),e.xp6(1),e.Q6J("ngForOf",t.marcasLista),e.xp6(2),e.Q6J("ngIf",t.marcas.errors&&t.marcas.touched),e.xp6(5),e.Q6J("formControl",t.materiales),e.xp6(1),e.Q6J("ngForOf",t.materialesLista),e.xp6(2),e.Q6J("ngIf",t.materiales.errors&&t.materiales.touched),e.xp6(5),e.Q6J("formControl",t.edad),e.xp6(1),e.Q6J("ngForOf",t.edadesLista),e.xp6(2),e.Q6J("ngIf",t.edad.errors&&t.edad.touched),e.xp6(8),e.Q6J("formControl",t.ancho),e.xp6(2),e.Q6J("ngIf",t.ancho.errors&&t.ancho.touched),e.xp6(5),e.Q6J("formControl",t.largo),e.xp6(2),e.Q6J("ngIf",t.largo.errors&&t.largo.touched),e.xp6(5),e.Q6J("formControl",t.alto),e.xp6(2),e.Q6J("ngIf",t.alto.errors&&t.alto.touched),e.xp6(5),e.Q6J("formControl",t.descripcion),e.xp6(3),e.Q6J("ngIf",t.descripcion.errors&&t.descripcion.touched),e.xp6(2),e.hij(" ",t.remainingChars," M\xe1ximo de caracteres... "),e.xp6(3),e.Q6J("ngIf",t.isUpdateMode&&t.juguete),e.xp6(1),e.Q6J("ngIf",!t.isUpdateMode),e.xp6(5),e.Q6J("formControl",t.puntuacion),e.xp6(2),e.Q6J("ngIf",t.puntuacion.errors&&t.puntuacion.touched),e.xp6(5),e.Q6J("formControl",t.num_votaciones),e.xp6(2),e.Q6J("ngIf",t.num_votaciones.errors&&t.num_votaciones.touched),e.xp6(6),e.Q6J("formControl",t.pro1),e.xp6(4),e.Q6J("formControl",t.pro2),e.xp6(4),e.Q6J("formControl",t.pro3),e.xp6(4),e.Q6J("formControl",t.pro4),e.xp6(4),e.Q6J("formControl",t.pro5),e.xp6(4),e.Q6J("formControl",t.pro6),e.xp6(7),e.Q6J("formControl",t.contra1),e.xp6(4),e.Q6J("formControl",t.contra2),e.xp6(4),e.Q6J("formControl",t.contra3),e.xp6(4),e.Q6J("formControl",t.contra4),e.xp6(4),e.Q6J("formControl",t.contra5),e.xp6(4),e.Q6J("formControl",t.contra6),e.xp6(7),e.Q6J("fileName",t.imagen1),e.xp6(2),e.Q6J("fileName",t.imagen2),e.xp6(2),e.Q6J("fileName",t.imagen3),e.xp6(2),e.Q6J("fileName",t.imagen4),e.xp6(2),e.Q6J("fileName",t.imagen5),e.xp6(2),e.Q6J("fileName",t.imagen6),e.xp6(2),e.Q6J("fileName",t.imagen7),e.xp6(2),e.Q6J("fileName",t.imagen8),e.xp6(2),e.Q6J("formControl",t.publicado),e.xp6(3),e.Q6J("disabled",t.jugueteForm.invalid)}}const we=[{path:"",component:k,canActivate:[x.a]},{path:"form/:id",component:(()=>{class o{constructor(t,r,n,u,c){this.activatedRoute=t,this.router=r,this.formBuilder=n,this.store=u,this.treeService=c,this.isUpdateMode=!1,this.remainingChars=1e3,this.envioFormDataJuguete=new FormData,this.jugueteId=this.activatedRoute.snapshot.paramMap.get("id")||"",this.isUpdateMode=!!this.jugueteId,this.tituloJuguete=new a.NI("juguete1",[a.kI.required,a.kI.maxLength(255)]),this.precioJuguete=new a.NI(55,[a.kI.required,a.kI.min(0)]),this.descripcion=new a.NI("description del juguete",[a.kI.required,a.kI.maxLength(3500)]),this.pro1=new a.NI(!1),this.pro2=new a.NI(!1),this.pro3=new a.NI(!1),this.pro4=new a.NI(!1),this.pro5=new a.NI(!1),this.pro6=new a.NI(!1),this.contra1=new a.NI(!1),this.contra2=new a.NI(!1),this.contra3=new a.NI(!1),this.contra4=new a.NI(!1),this.contra5=new a.NI(!1),this.contra6=new a.NI(!1),this.categorias=new a.NI("",[a.kI.required]),this.subcategorias1=new a.NI("",[a.kI.required]),this.subcategorias2=new a.NI("",[a.kI.required]),this.marcas=new a.NI("",[a.kI.required]),this.materiales=new a.NI("",[a.kI.required]),this.edad=new a.NI("",[a.kI.required]),this.ancho=new a.NI("",[a.kI.required,a.kI.maxLength(4)]),this.largo=new a.NI("",[a.kI.required,a.kI.maxLength(4)]),this.alto=new a.NI("",[a.kI.required,a.kI.maxLength(4)]),this.publicado=new a.NI(!1,[a.kI.required]),this.puntuacion=new a.NI(10,[a.kI.required,a.kI.min(0)]),this.num_votaciones=new a.NI(100,[a.kI.required,a.kI.min(0)]),this.loadMarcas(),this.loadMateriales(),this.loadEdades(),this.jugueteForm=this.formBuilder.group({tituloJuguete:this.tituloJuguete,descripcion:this.descripcion,precio:this.precioJuguete,marca:this.marcas,material:this.materiales,edad:this.edad,ancho:this.ancho,largo:this.largo,alto:this.alto,categorias:this.categorias,subcategorias1:this.subcategorias1,subcategorias2:this.subcategorias2,puntuacion:this.puntuacion,num_votaciones:this.num_votaciones,pro1:this.pro1,pro2:this.pro2,pro3:this.pro3,pro4:this.pro4,pro5:this.pro5,pro6:this.pro6,contra1:this.contra1,contra2:this.contra2,contra3:this.contra3,contra4:this.contra4,contra5:this.contra5,contra6:this.contra6,publicado:this.publicado}),this.store.select("jugueteAdmin").subscribe({next:d=>{d.juguete&&(this.arrayCategorias=d.categorias,this.treeCategorias=this.treeService.creaArbolFromCategorias(this.arrayCategorias),this.categoriasListaRenderizable=this.treeService.loadHijosFromNodo("Categor\xedas",this.treeCategorias),this.juguete=d.juguete,this.tituloJuguete.setValue(this.juguete.titulo),this.descripcion.setValue(this.juguete.descripcion),this.precioJuguete.setValue(this.juguete.precio),this.pro1.setValue(this.juguete.pro1),this.pro2.setValue(this.juguete.pro2),this.pro3.setValue(this.juguete.pro3),this.pro4.setValue(this.juguete.pro4),this.pro5.setValue(this.juguete.pro5),this.pro6.setValue(this.juguete.pro6),this.contra1.setValue(this.juguete.contra1),this.contra2.setValue(this.juguete.contra2),this.contra3.setValue(this.juguete.contra3),this.contra4.setValue(this.juguete.contra4),this.contra5.setValue(this.juguete.contra5),this.contra6.setValue(this.juguete.contra6),this.marcas.setValue(this.juguete.marca),this.materiales.setValue(this.juguete.material),this.edad.setValue(this.juguete.edad),this.ancho.setValue(this.juguete.ancho),this.largo.setValue(this.juguete.largo),this.alto.setValue(this.juguete.alto),this.puntuacion.setValue(this.juguete.puntuacion),this.num_votaciones.setValue(this.juguete.num_votaciones),this.publicado.setValue(!!this.juguete.publicado),this.imagen1=this.juguete.imagen1,this.imagen2=this.juguete.imagen2,this.imagen3=this.juguete.imagen3,this.imagen4=this.juguete.imagen4,this.imagen5=this.juguete.imagen5,this.imagen6=this.juguete.imagen6,this.imagen7=this.juguete.imagen7,this.imagen8=this.juguete.imagen8,this.categorias.setValue(this.juguete.categoria?.nombre_categoria),this.obtenerSubcategorias1(this.juguete.categoria?this.juguete.categoria.nombre_categoria:""),this.subcategorias1.setValue(this.juguete.categoria?this.juguete.categoria.subcategoria1:""),this.obtenerSubcategorias2(this.juguete.categoria?this.juguete.categoria.subcategoria1:""),this.subcategorias2.setValue(this.juguete.categoria?this.juguete.categoria.subcategoria2:""),this.jugueteForm=this.formBuilder.group({tituloJuguete:this.tituloJuguete,precioJuguete:this.precioJuguete,descripcion:this.descripcion,marcas:this.marcas,materiales:this.materiales,edad:this.edad,ancho:this.ancho,largo:this.largo,alto:this.alto,categorias:this.categorias,subcategorias1:this.subcategorias1,subcategorias2:this.subcategorias2,puntuacion:this.puntuacion,num_votaciones:this.num_votaciones,pro1:this.pro1,pro2:this.pro2,pro3:this.pro3,pro4:this.pro4,pro5:this.pro5,pro6:this.pro6,contra1:this.contra1,contra2:this.contra2,contra3:this.contra3,contra4:this.contra4,contra5:this.contra5,contra6:this.contra6,publicado:this.publicado}))}})}ngOnInit(){this.store.dispatch(m.xm()),this.isUpdateMode&&this.store.dispatch(m.vC({idJuguete:this.jugueteId}))}loadMarcas(){this.marcasLista=[{id:1,nombre:"Lego"},{id:2,nombre:"Playmobil"},{id:3,nombre:"Mattel"},{id:4,nombre:"KidKraft"},{id:5,nombre:"Barbie"}]}loadMateriales(){this.materialesLista=[{id:1,nombre:"Madera"},{id:2,nombre:"Hierro"},{id:3,nombre:"Pl\xe1stico"}]}loadEdades(){this.edadesLista=["0","1","2","3","4","5","6","7","8","9","10"]}obtenerSubcategorias1(t){this.categorias.setValue(t),this.subcategorias1ListaRenderizable=this.treeService.loadHijosFromNodo(t,this.treeCategorias)}obtenerSubcategorias2(t){this.subcategorias1.setValue(t),this.subcategorias2ListaRenderizable=this.treeService.loadHijosFromNodo(t,this.treeCategorias)}setValorSubCat2(t){this.subcategorias2.setValue(t)}updateJuguete(){this.store.dispatch(m.xj({juguete:this.envioFormDataJuguete}))}anyadirJuguete(){this.store.dispatch(m.JH({juguete:this.envioFormDataJuguete}))}saveJuguete(){let t=this.obtenerIdCategoria(this.categorias.value,this.subcategorias1.value,this.subcategorias2.value);console.log("Categoria ID Seleccionada: ",t),this.isUpdateMode&&this.envioFormDataJuguete.append("id",this.jugueteId.toString()),this.envioFormDataJuguete.append("titulo",this.tituloJuguete.value),this.envioFormDataJuguete.append("descripcion",this.descripcion.value),this.envioFormDataJuguete.append("precio",this.precioJuguete.value.toString()),this.envioFormDataJuguete.append("marca",this.marcas.value),this.envioFormDataJuguete.append("material",this.materiales.value),this.envioFormDataJuguete.append("edad",this.edad.value.toString()),this.envioFormDataJuguete.append("ancho",this.ancho.value),this.envioFormDataJuguete.append("largo",this.largo.value),this.envioFormDataJuguete.append("alto",this.alto.value),this.envioFormDataJuguete.append("puntuacion",this.puntuacion.value.toString()),this.envioFormDataJuguete.append("num_votaciones",this.num_votaciones.value.toString()),this.envioFormDataJuguete.append("pro1",this.pro1.value?"1":"0"),this.envioFormDataJuguete.append("pro2",this.pro2.value?"1":"0"),this.envioFormDataJuguete.append("pro3",this.pro3.value?"1":"0"),this.envioFormDataJuguete.append("pro4",this.pro4.value?"1":"0"),this.envioFormDataJuguete.append("pro5",this.pro5.value?"1":"0"),this.envioFormDataJuguete.append("pro6",this.pro6.value?"1":"0"),this.envioFormDataJuguete.append("contra1",this.contra1.value?"1":"0"),this.envioFormDataJuguete.append("contra2",this.contra2.value?"1":"0"),this.envioFormDataJuguete.append("contra3",this.contra3.value?"1":"0"),this.envioFormDataJuguete.append("contra4",this.contra4.value?"1":"0"),this.envioFormDataJuguete.append("contra5",this.contra5.value?"1":"0"),this.envioFormDataJuguete.append("contra6",this.contra6.value?"1":"0"),this.envioFormDataJuguete.append("path_imagen",t),this.envioFormDataJuguete.append("publicado",this.publicado.value?"1":"0"),this.envioFormDataJuguete.append("categoria_id",t.toString()),this.isUpdateMode?this.updateJuguete():this.anyadirJuguete()}obtenerIdCategoria(t,r,n){let c,d,T;for(let p=0;p<this.arrayCategorias.length;p++)if(c=this.arrayCategorias[p].nombre_categoria,d=this.arrayCategorias[p].subcategoria1,T=this.arrayCategorias[p].subcategoria2,c===t&&d===r&&T===n)return this.arrayCategorias[p].id;return""}imagenCargada(t,r){t&&(this.envioFormDataJuguete.append("imagen"+r,t),"1"==r?this.imagen1=t.name:"2"==r?this.imagen2=t.name:"3"==r?this.imagen3=t.name:"4"==r?this.imagen4=t.name:"5"==r?this.imagen5=t.name:"6"==r?this.imagen6=t.name:"7"==r?this.imagen7=t.name:this.imagen8=t.name)}charCounter(){this.remainingChars=this.descripcion.value?3e3-this.descripcion.value.length:3e3}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(a.qu),e.Y36(h.yh),e.Y36(L.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-juguete-form"]],decls:9,vars:1,consts:[[1,"contenedor-pagina-peq"],["id","postFeedback"],[1,"mx-auto"],[1,"titulo-pagina"],[1,"my-5","text-right"],["routerLink","/juguetes-listado",1,"btn","boton-misc-rojo"],["enctype","multipart/form-data",3,"formGroup","ngSubmit",4,"ngIf"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"my-8"],["appearance","outline",1,"w-full"],["matInput","","type","text",3,"formControl"],[3,"ngClass",4,"ngIf"],[1,"my-8","sm:w-64"],["matInput","","type","number",3,"formControl"],[1,"my-8","sm:w-1/3"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"text-lg","mt-10"],[1,"inline-block","w-full","flex","flex-wrap","order","mb-10","p-2"],[1,"pr-3","sm:w-1/8","sm:inline"],[1,"sm:w-1/8","sm:inline"],[1,"my-10"],["matInput","","id","wmd-input","data-post-type-id","2","cols","92","rows","10",3,"formControl","keyup"],[2,"font-style","italic"],[1,""],["class","flex flex-wrap border mb-10 w-full  ",4,"ngIf"],["class","flex flex-wrap border my-10 w-full  ",4,"ngIf"],["type","number","matInput","",3,"formControl"],[1,"flex","flex-wrap"],[1,"sm:w-1/2","my-3"],[1,"sm:my-8","my-3"],["type","checkbox",1,"input-checkbox",3,"formControl"],["for","pro1",1,"etiqueta-checkbox"],[1,"my-3","sm:my-8"],["for","contra1",1,"etiqueta-checkbox"],["for","contra2",1,"etiqueta-checkbox"],["for","contra3",1,"etiqueta-checkbox"],["for","contra4",1,"etiqueta-checkbox"],["for","contra5",1,"etiqueta-checkbox"],["for","contra6",1,"etiqueta-checkbox"],[1,"text-xl","sm:text-2xl"],[1,"my-10","sm:w-1/2"],[3,"fileName","fileSelected"],[1,"my-5","sm:my-10","sm:w-1/2"],[1,"justify-self-end","mt-2","mb-5","text-lg","mr-10"],["for","publicado",1,"align-middle","text-xs","sm:text-xl"],["type","submit",1,"btn","boton-misc-rojo","mb-12",3,"disabled"],[3,"ngClass"],[4,"ngIf"],[3,"value"],[1,"flex","flex-wrap","border","mb-10","w-full"],["class","sm:my-10 my-4 w-fit",4,"ngIf"],[1,"sm:my-10","my-4","w-fit"],[1,"flex","flex-wrap","border","my-10","w-full"],[1,"sm:my-10","my-4","w-full","sm:w-1/3","sm:inline","sm:pr-3"],[3,"value","click",4,"ngFor","ngForOf"],[1,"sm:my-10","my-4","w-full","sm:w-1/3","sm:inline"],["for","subcategoria2"],[3,"value","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4,"Formulario Juguete"),e.qZA(),e.TgZ(5,"div",4)(6,"a",5),e._uU(7,"Volver"),e.qZA()(),e.YNc(8,Qe,171,51,"form",6),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("ngIf",r.jugueteForm))},dependencies:[l.yS,_.TO,_.KE,_.hX,J.Nt,Z.gD,D.ey,a._Y,a.Fj,a.wV,a.Wl,a.JJ,a.JL,a.oH,a.sg,M.Y,g.mk,g.sg,g.O5],styles:[".error[_ngcontent-%COMP%]{color:red}"]}),o})(),canActivate:[x.a]}];let ye=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(we),l.Bz]}),o})();var Ye=s(9049),ke=s(510),Le=s(9794);let De=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[ye,v.Cq,_.lN,J.c,Z.LD,a.UX,Le.O,Ye.x,ke.p,g.ez]}),o})()}}]);